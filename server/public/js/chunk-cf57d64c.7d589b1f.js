(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cf57d64c"],{"2db4":function(t,e,a){"use strict";a("ca71");var n=a("8dd9"),s=a("a9ad"),r=a("7560"),i=a("f2e7"),o=a("fe6c"),c=a("58df"),l=a("80d2"),u=a("d9bd");e["a"]=Object(c["a"])(n["a"],s["a"],i["a"],Object(o["b"])(["absolute","bottom","left","right","top"])).extend({name:"v-snackbar",props:{app:Boolean,centered:Boolean,contentClass:{type:String,default:""},multiLine:Boolean,text:Boolean,timeout:{type:[Number,String],default:5e3},transition:{type:[Boolean,String],default:"v-snack-transition",validator:t=>"string"===typeof t||!1===t},vertical:Boolean},data:()=>({activeTimeout:-1}),computed:{classes(){return{"v-snack--absolute":this.absolute,"v-snack--active":this.isActive,"v-snack--bottom":this.bottom||!this.top,"v-snack--centered":this.centered,"v-snack--has-background":this.hasBackground,"v-snack--left":this.left,"v-snack--multi-line":this.multiLine&&!this.vertical,"v-snack--right":this.right,"v-snack--text":this.text,"v-snack--top":this.top,"v-snack--vertical":this.vertical}},hasBackground(){return!this.text&&!this.outlined},isDark(){return this.hasBackground?!this.light:r["a"].options.computed.isDark.call(this)},styles(){if(this.absolute||!this.app)return{};const{bar:t,bottom:e,footer:a,insetFooter:n,left:s,right:r,top:i}=this.$vuetify.application;return{paddingBottom:Object(l["g"])(e+a+n),paddingLeft:Object(l["g"])(s),paddingRight:Object(l["g"])(r),paddingTop:Object(l["g"])(t+i)}}},watch:{isActive:"setTimeout",timeout:"setTimeout"},mounted(){this.isActive&&this.setTimeout()},created(){this.$attrs.hasOwnProperty("auto-height")&&Object(u["e"])("auto-height",this),0==this.timeout&&Object(u["d"])('timeout="0"',"-1",this)},methods:{genActions(){return this.$createElement("div",{staticClass:"v-snack__action "},[Object(l["p"])(this,"action",{attrs:{class:"v-snack__btn"}})])},genContent(){return this.$createElement("div",{staticClass:"v-snack__content",class:{[this.contentClass]:!0},attrs:{role:"status","aria-live":"polite"}},[Object(l["p"])(this)])},genWrapper(){const t=this.hasBackground?this.setBackgroundColor:this.setTextColor,e=t(this.color,{staticClass:"v-snack__wrapper",class:n["a"].options.computed.classes.call(this),style:n["a"].options.computed.styles.call(this),directives:[{name:"show",value:this.isActive}],on:{pointerenter:()=>window.clearTimeout(this.activeTimeout),pointerleave:this.setTimeout}});return this.$createElement("div",e,[this.genContent(),this.genActions()])},genTransition(){return this.$createElement("transition",{props:{name:this.transition}},[this.genWrapper()])},setTimeout(){window.clearTimeout(this.activeTimeout);const t=Number(this.timeout);this.isActive&&![0,-1].includes(t)&&(this.activeTimeout=window.setTimeout(()=>{this.isActive=!1},t))}},render(t){return t("div",{staticClass:"v-snack",class:this.classes,style:this.styles},[!1!==this.transition?this.genTransition():this.genWrapper()])}})},"34c3b":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"form",attrs:{"lazy-validation":"",autocomplete:"on"},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"400",outlined:"",elevation:"8"}},[a("v-card-text",[a("v-text-field",{attrs:{autocapitalize:"off",autocorrect:"off",autocomplete:"username",label:"Укажите Логин",placeholder:"Укажите Логин",rules:t.loginRules,solo:"",dense:"",elebation:"5"},model:{value:t.login,callback:function(e){t.login=e},expression:"login"}}),a("v-text-field",{attrs:{autocomplete:"current-password",label:"Введите пароль",placeholder:"Введите пароль",type:"password",rules:t.passRules,solo:"",dense:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("v-text-field",{attrs:{autocomplete:"check-pass",label:"Повторите пароль",placeholder:"Повторите пароль",type:"password",rules:t.passSecRules,solo:"",dense:""},model:{value:t.checkpass,callback:function(e){t.checkpass=e},expression:"checkpass"}}),a("v-btn",{attrs:{block:"",large:"",color:"success"},on:{click:t.registerUser}},[t._v("Продолжить")])],1)],1)],1),a("v-snackbar",{model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackbarMessage))])],1)},s=[],r=a("1da1"),i=(a("96cf"),a("9962")),o={data:function(){return{valid:!0,login:"",password:"",checkpass:"",snackbar:!1,snackbarMessage:"",loginRules:[function(t){return!!t||"Обязательное поле"},function(t){return(t||"").length>=5||"Минимум 5 символов"},function(t){return(t||"").length<=40||"Максимум 40 символов"}],passRules:[function(t){return!!t||"Обязательное поле"},function(t){return(t||"").length<=40||"Максимум 40 символов"},function(t){return(t||"").length>=5||"Минимум 5 символов"}],passSecRules:[function(t){return!!t||"Обязательное поле"},function(t){return(t||"").length<=40||"Максимум 40 символов"},function(t){return(t||"").length>=5||"Минимум 5 символов"}]}},methods:{registerUser:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.password!==t.checkpass){e.next=4;break}console.log(!0),e.next=7;break;case 4:return t.snackbar=!0,t.snackbarMessage="Пароли не совпадают",e.abrupt("return",!1);case 7:if(!t.$refs.form.validate()){e.next=13;break}return a={login:t.login,password:t.password},e.next=11,i["a"].signup(a);case 11:n=e.sent,n.err?(t.snackbar=!0,t.snackbarMessage=n.err):null!=localStorage.getItem("jwt")&&(null!=t.$route.params.nextUrl?t.$router.push(t.$route.params.nextUrl):t.$router.push("/dashboard"));case 13:case"end":return e.stop()}}),e)})))()}}},c=o,l=(a("784e"),a("2877")),u=a("6544"),p=a.n(u),h=a("8336"),d=a("b0af"),b=a("99d9"),v=a("a523"),g=a("4bd4"),m=a("2db4"),f=a("8654"),k=Object(l["a"])(c,n,s,!1,null,"692babee",null);e["default"]=k.exports;p()(k,{VBtn:h["a"],VCard:d["a"],VCardText:b["b"],VContainer:v["a"],VForm:g["a"],VSnackbar:m["a"],VTextField:f["a"]})},"784e":function(t,e,a){"use strict";a("d6f4")},9962:function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));var n=a("1da1"),s=a("bee2"),r=a("d4ec"),i=a("ade3"),o=(a("96cf"),a("d3b7"),a("e9c4"),"/api"),c=Object(s["a"])((function t(){Object(r["a"])(this,t)}));Object(i["a"])(c,"login",function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(o,"/login"),{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});case 3:return a=t.sent,t.next=6,a.json();case 6:if(n=t.sent,404!==a.status){t.next=11;break}return t.abrupt("return",{err:"Неправильное имя пользователя или пароль"});case 11:return localStorage.setItem("jwt",n.token),localStorage.setItem("login",e.login),t.abrupt("return",n);case 14:t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](0),console.error(t.t0);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}()),Object(i["a"])(c,"signup",function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(o,"/signup"),{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});case 3:return a=t.sent,t.next=6,a.json();case 6:if(n=t.sent,409!==a.status){t.next=11;break}return t.abrupt("return",{err:"Пользователь с таким логином уже существует"});case 11:return localStorage.setItem("jwt",n.token),localStorage.setItem("login",e.login),t.abrupt("return",n);case 14:t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](0),console.error(t.t0);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}()),Object(i["a"])(c,"logout",Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:localStorage.removeItem("user");case 1:case"end":return t.stop()}}),t)}))))},ca71:function(t,e,a){},d6f4:function(t,e,a){}}]);
//# sourceMappingURL=chunk-cf57d64c.7d589b1f.js.map