(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3f26b279"],{"2db4":function(t,e,n){"use strict";n("ca71");var a=n("8dd9"),s=n("a9ad"),r=n("7560"),i=n("f2e7"),o=n("fe6c"),c=n("58df"),l=n("80d2"),u=n("d9bd");e["a"]=Object(c["a"])(a["a"],s["a"],i["a"],Object(o["b"])(["absolute","bottom","left","right","top"])).extend({name:"v-snackbar",props:{app:Boolean,centered:Boolean,contentClass:{type:String,default:""},multiLine:Boolean,text:Boolean,timeout:{type:[Number,String],default:5e3},transition:{type:[Boolean,String],default:"v-snack-transition",validator:t=>"string"===typeof t||!1===t},vertical:Boolean},data:()=>({activeTimeout:-1}),computed:{classes(){return{"v-snack--absolute":this.absolute,"v-snack--active":this.isActive,"v-snack--bottom":this.bottom||!this.top,"v-snack--centered":this.centered,"v-snack--has-background":this.hasBackground,"v-snack--left":this.left,"v-snack--multi-line":this.multiLine&&!this.vertical,"v-snack--right":this.right,"v-snack--text":this.text,"v-snack--top":this.top,"v-snack--vertical":this.vertical}},hasBackground(){return!this.text&&!this.outlined},isDark(){return this.hasBackground?!this.light:r["a"].options.computed.isDark.call(this)},styles(){if(this.absolute||!this.app)return{};const{bar:t,bottom:e,footer:n,insetFooter:a,left:s,right:r,top:i}=this.$vuetify.application;return{paddingBottom:Object(l["g"])(e+n+a),paddingLeft:Object(l["g"])(s),paddingRight:Object(l["g"])(r),paddingTop:Object(l["g"])(t+i)}}},watch:{isActive:"setTimeout",timeout:"setTimeout"},mounted(){this.isActive&&this.setTimeout()},created(){this.$attrs.hasOwnProperty("auto-height")&&Object(u["e"])("auto-height",this),0==this.timeout&&Object(u["d"])('timeout="0"',"-1",this)},methods:{genActions(){return this.$createElement("div",{staticClass:"v-snack__action "},[Object(l["p"])(this,"action",{attrs:{class:"v-snack__btn"}})])},genContent(){return this.$createElement("div",{staticClass:"v-snack__content",class:{[this.contentClass]:!0},attrs:{role:"status","aria-live":"polite"}},[Object(l["p"])(this)])},genWrapper(){const t=this.hasBackground?this.setBackgroundColor:this.setTextColor,e=t(this.color,{staticClass:"v-snack__wrapper",class:a["a"].options.computed.classes.call(this),style:a["a"].options.computed.styles.call(this),directives:[{name:"show",value:this.isActive}],on:{pointerenter:()=>window.clearTimeout(this.activeTimeout),pointerleave:this.setTimeout}});return this.$createElement("div",e,[this.genContent(),this.genActions()])},genTransition(){return this.$createElement("transition",{props:{name:this.transition}},[this.genWrapper()])},setTimeout(){window.clearTimeout(this.activeTimeout);const t=Number(this.timeout);this.isActive&&![0,-1].includes(t)&&(this.activeTimeout=window.setTimeout(()=>{this.isActive=!1},t))}},render(t){return t("div",{staticClass:"v-snack",class:this.classes,style:this.styles},[!1!==this.transition?this.genTransition():this.genWrapper()])}})},"3b47":function(t,e,n){"use strict";n("6bb7")},"6bb7":function(t,e,n){},9962:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n("1da1"),s=n("bee2"),r=n("d4ec"),i=n("ade3"),o=(n("96cf"),n("d3b7"),n("e9c4"),"/api"),c=Object(s["a"])((function t(){Object(r["a"])(this,t)}));Object(i["a"])(c,"login",function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(o,"/login"),{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});case 3:return n=t.sent,t.next=6,n.json();case 6:if(a=t.sent,404!==n.status){t.next=11;break}return t.abrupt("return",{err:"Неправильное имя пользователя или пароль"});case 11:return localStorage.setItem("jwt",a.token),localStorage.setItem("login",e.login),t.abrupt("return",a);case 14:t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](0),console.error(t.t0);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}()),Object(i["a"])(c,"signup",function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(o,"/signup"),{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});case 3:return n=t.sent,t.next=6,n.json();case 6:if(a=t.sent,409!==n.status){t.next=11;break}return t.abrupt("return",{err:"Пользователь с таким логином уже существует"});case 11:return localStorage.setItem("jwt",a.token),localStorage.setItem("login",e.login),t.abrupt("return",a);case 14:t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](0),console.error(t.t0);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}()),Object(i["a"])(c,"logout",Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:localStorage.removeItem("user");case 1:case"end":return t.stop()}}),t)}))))},a55b:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-form",{ref:"form",attrs:{"lazy-validation":"",autocomplete:"on"},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-container",[n("v-card",{staticClass:"mx-auto",attrs:{"max-width":"400",outlined:"",elevation:"8"}},[n("v-card-text",[n("v-text-field",{attrs:{autocapitalize:"off",autocorrect:"off",autocomplete:"username",label:"Укажите Логин",placeholder:"Укажите Логин",type:"text",rules:t.loginRules,solo:"",dense:"",elebation:"5"},model:{value:t.login,callback:function(e){t.login=e},expression:"login"}}),n("v-text-field",{attrs:{autocomplete:"current-password",label:"Введите пароль",placeholder:"Введите пароль",type:"password",rules:t.passRules,solo:"",dense:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("v-btn",{attrs:{block:"",large:"",color:"success"},on:{click:t.loginUser}},[t._v("Войти")])],1),n("v-snackbar",{model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackbarMessage)+" ")])],1)],1)],1)},s=[],r=n("1da1"),i=(n("96cf"),n("9962")),o={data:function(){return{snackbar:!1,snackbarMessage:"",valid:!0,login:"",password:"",loginRules:[function(t){return!!t||"Обязательное поле"},function(t){return(t||"").length>=5||"Минимум 5 символов"},function(t){return(t||"").length<=20||"Максимум 20 символов"}],passRules:[function(t){return!!t||"Обязательное поле."},function(t){return(t||"").length>=5||"Минимум 5 символов"},function(t){return(t||"").length<=20||"Максимум 20 символов"}]}},methods:{loginUser:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.$refs.form.validate()){e.next=6;break}return n={login:t.login,password:t.password},e.next=4,i["a"].login(n);case 4:a=e.sent,a.err?(t.snackbar=!0,t.snackbarMessage=a.err):null!=localStorage.getItem("jwt")&&(null!=t.$route.params.nextUrl?t.$router.push(t.$route.params.nextUrl):t.$router.push("/dashboard"));case 6:case"end":return e.stop()}}),e)})))()}}},c=o,l=(n("3b47"),n("2877")),u=n("6544"),p=n.n(u),h=n("8336"),d=n("b0af"),b=n("99d9"),v=n("a523"),g=n("4bd4"),m=n("2db4"),f=n("8654"),k=Object(l["a"])(c,a,s,!1,null,"622693a0",null);e["default"]=k.exports;p()(k,{VBtn:h["a"],VCard:d["a"],VCardText:b["b"],VContainer:v["a"],VForm:g["a"],VSnackbar:m["a"],VTextField:f["a"]})},ca71:function(t,e,n){}}]);
//# sourceMappingURL=chunk-3f26b279.06d06f4a.js.map